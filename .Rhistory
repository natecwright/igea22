mutate(number= substr(UID2,8,8))%>%
mutate(XSection= substr(UID2,9,9))%>%
mutate(Xlabel = number)
tundra_points = alt_df%>%
filter(LWR != 'W')%>%
mutate(Xlabel = number)
temp = alt_df%>%
filter(LWR == 'W')%>%
filter(XSection != '3')%>%
filter(XSection != '8')%>%
filter(number != '2')%>%
filter(number != '4')
temp2 = alt_df%>%
filter(LWR == 'W')%>%
filter(XSection == '3' | XSection == '8')%>%
filter(number != '2')%>%
filter(number != '3')%>%
filter(number != '4')
bank_points = rbind(temp, temp2)%>%
mutate(Xlabel = as.double('0'))
land_points = rbind(tundra_points, bank_points)
submerged_points = anti_join(alt_df, land_points)%>%
mutate(Xlabel = 'S')
# ----
ALT_violin = rbind(submerged_points, land_points)%>%
filter(!is.na(ALT))
saveRDS(ALT_violin, paste0('outputs/munged_3/EP_violin/ALT_violin_',reach_ID,'.rds'))
}
lapply(g3_files,edit_function)
source("~/Documents/GitHub/igea22/ts_scripts/edit_3_ep.R", echo=TRUE)
# script to read in raw data and organize it
library(dplyr)
library(readxl)
library(tidyr)
library(stringr)
library(stringi)
setwd('/Users/emmaboudreau/Documents/GitHub/igea22/')
g3_files = list.files('outputs/munged_3/EPs/ALT/')
#input_file = "ALT_3EP01.rds"
edit_function = function(input_file) {
reach_ID = substring(strsplit(input_file, "_")[[1]][2], 1, 5)
master = readRDS(paste0('outputs/munged_3/EPs/master/master_',reach_ID,'.rds'))
alt_df = readRDS(paste0('outputs/munged_3/EPs/ALT/ALT_',reach_ID,'.rds'))
# edit the data to exclude all submerged water points----
alt_df = alt_df%>%
mutate(number= substr(UID2,8,8))%>%
mutate(XSection= substr(UID2,9,9))%>%
mutate(Xlabel = number)
tundra_points = alt_df%>%
filter(LWR != 'W')%>%
mutate(Xlabel = number)
temp = alt_df%>%
filter(LWR == 'W')%>%
filter(XSection != '3')%>%
filter(XSection != '8')%>%
filter(number != '2')%>%
filter(number != '4')
temp2 = alt_df%>%
filter(LWR == 'W')%>%
filter(XSection == '3' | XSection == '8')%>%
filter(number != '2')%>%
filter(number != '3')%>%
filter(number != '4')
bank_points = rbind(temp, temp2)%>%
mutate(Xlabel = as.double('0'))
land_points = rbind(tundra_points, bank_points)
submerged_points = anti_join(alt_df, land_points)%>%
mutate(Xlabel = 'S')
# ----
ALT_violin = rbind(submerged_points, land_points)%>%
filter(!is.na(ALT))
saveRDS(ALT_violin, paste0('outputs/munged_3/EP_violin/ALT_violin_',reach_ID,'.rds'))
}
lapply(g3_files,edit_function)
# script to read in raw data and organize it
library(dplyr)
library(readxl)
library(tidyr)
library(stringr)
library(stringi)
setwd('/Users/emmaboudreau/Documents/GitHub/igea22/')
g3_files = list.files('outputs/munged_3/TPs/ALT/')
input_file = "ALT_3TP06.rds"
#edit_function = function(input_file){
reach_ID = substring(strsplit(input_file, "_")[[1]][2], 1, 5)
master = readRDS(paste0('outputs/munged_3/TPs/master_',reach_ID,'.rds'))
# script to read in raw data and organize it
library(dplyr)
library(readxl)
library(tidyr)
library(stringr)
library(stringi)
setwd('/Users/emmaboudreau/Documents/GitHub/igea22/')
g3_files = list.files('outputs/munged_3/TPs/ALT/')
input_file = "ALT_3TP06.rds"
reach_ID = substring(strsplit(input_file, "_")[[1]][2], 1, 5)
master = readRDS(paste0('outputs/munged_3/TPs/master_',reach_ID,'.rds'))
master = readRDS(paste0('outputs/munged_3/TPs/master/master_',reach_ID,'.rds'))
alt_df = readRDS(paste0('outputs/munged_3/TPs/ALT/ALT_',reach_ID,'.rds'))
alt_df = alt_df%>%
mutate(number= substr(UID2,8,8))%>%
mutate(XSection= substr(UID2,9,9))%>%
mutate(Xlabel = number)
tundra_points = alt_df%>%
filter(LWR!= 'W')
bank_points = alt_df
filter(LWR =='W')%>%
filter(XSection != '2')%>%
filter(XSection != '5')%>%
filter(number != '2')%>%
mutate(Xlabel = as.double('0'))
bank_points = alt_df
filter(LRW =='W')%>%
filter(XSection != '2')%>%
filter(XSection != '5')%>%
filter(number != '2')%>%
mutate(Xlabel = as.double('0'))
View(alt_df)
bank_points = alt_df%>%
filter(LWR =='W')%>%
filter(XSection != '2')%>%
filter(XSection != '5')%>%
filter(number != '2')%>%
mutate(Xlabel = as.double('0'))
# edit the data to only have submerged water points----
submerged_points = anti_join(alt_df, land_points) %>%
mutate(Xlabel = 'S')
ALT_violin = rbind(land_points, submerged_points)
View(bank_points)
View(tundra_points)
View(master)
View(bank_points)
View(tundra_points)
View(bank_points)
View(tundra_points)
View(bank_points)
View(tundra_points)
View(bank_points)
View(tundra_points)
View(bank_points)
View(tundra_points)
View(bank_points)
View(tundra_points)
View(bank_points)
land_points = rbind(tundra_points, bank_points)
View(alt_df)
# edit the data to only have submerged water points----
submerged_points = anti_join(alt_df, land_points) %>%
mutate(Xlabel = 'S')
ALT_violin = rbind(land_points, submerged_points)
View(ALT_violin)
View(bank_points)
View(ALT_violin)
View(submerged_points)
submerged_points = anti_join(alt_df, land_points, by = 'Xlabel') %>%
mutate(Xlabel = 'S')
View(alt_df)
View(land_points)
submerged_points = anti_join( land_points,alt_df, by = 'Xlabel') %>%
mutate(Xlabel = 'S')
View(submerged_points)
# script to read in raw data and organize it
library(dplyr)
library(readxl)
library(tidyr)
library(stringr)
library(stringi)
setwd('/Users/emmaboudreau/Documents/GitHub/igea22/')
g3_files = list.files('outputs/munged_3/TPs/ALT/')
input_file = "ALT_3TP06.rds"
#edit_function = function(input_file){
reach_ID = substring(strsplit(input_file, "_")[[1]][2], 1, 5)
master = readRDS(paste0('outputs/munged_3/TPs/master/master_',reach_ID,'.rds'))
alt_df = readRDS(paste0('outputs/munged_3/TPs/ALT/ALT_',reach_ID,'.rds'))%>%
filter(AlT>0)
# script to read in raw data and organize it
library(dplyr)
library(readxl)
library(tidyr)
library(stringr)
library(stringi)
setwd('/Users/emmaboudreau/Documents/GitHub/igea22/')
g3_files = list.files('outputs/munged_3/TPs/ALT/')
input_file = "ALT_3TP06.rds"
#edit_function = function(input_file){
reach_ID = substring(strsplit(input_file, "_")[[1]][2], 1, 5)
master = readRDS(paste0('outputs/munged_3/TPs/master/master_',reach_ID,'.rds'))
alt_df = readRDS(paste0('outputs/munged_3/TPs/ALT/ALT_',reach_ID,'.rds'))%>%
filter(ALT>0)
alt_df = alt_df%>%
mutate(number= substr(UID2,8,8))%>%
mutate(XSection= substr(UID2,9,9))%>%
mutate(Xlabel = number)
tundra_points = alt_df%>%
filter(LWR!= 'W')
bank_points = alt_df%>%
filter(LWR =='W')%>%
filter(XSection != '2')%>%
filter(XSection != '5')%>%
filter(number != '2')%>%
mutate(Xlabel = as.double('0'))
land_points = rbind(tundra_points, bank_points)
# edit the data to only have submerged water points----
submerged_points = anti_join( land_points,alt_df, by = 'Xlabel') %>%
mutate(Xlabel = 'S')
#create final df
ALT_violin = rbind(land_points, submerged_points)
View(ALT_violin)
View(ALT_violin)
#create final df
ALT_violin = rbind(land_points, submerged_points)
source("~/Documents/GitHub/igea22/ts_scripts/edit_3_tp.R", echo=TRUE)
source("~/Documents/GitHub/igea22/ts_scripts/edit_3_tp.R", echo=TRUE)
View(bank_points)
View(alt_df)
View(submerged_points)
View(land_points)
source("~/Documents/GitHub/igea22/ts_scripts/edit_3_tp.R", echo=TRUE)
View(submerged_points)
# script to read in raw data and organize it
library(dplyr)
library(readxl)
library(tidyr)
library(stringr)
library(stringi)
setwd('/Users/emmaboudreau/Documents/GitHub/igea22/')
g3_files = list.files('outputs/munged_3/TPs/ALT/')
input_file = "ALT_3TP11.rds"
#edit_function = function(input_file){
reach_ID = substring(strsplit(input_file, "_")[[1]][2], 1, 5)
master = readRDS(paste0('outputs/munged_3/TPs/master/master_',reach_ID,'.rds'))
alt_df = readRDS(paste0('outputs/munged_3/TPs/ALT/ALT_',reach_ID,'.rds'))%>%
filter(ALT>0)
alt_df = alt_df%>%
mutate(number= substr(UID2,8,8))%>%
mutate(XSection= substr(UID2,9,9))
# edit the data to exclude all submerged water points----
tundra_points = alt_df%>%
filter(LWR!= 'W')%>%
mutate(Xlabel = number)
bank_points = alt_df%>%
filter(LWR =='W')%>%
filter(XSection != '2')%>%
filter(XSection != '5')%>%
filter(number != '2')%>%
mutate(Xlabel = as.double('0'))
land_points = rbind(tundra_points, bank_points)
# ----
# edit the data to only have submerged water points----
submerged_points = anti_join(alt_df, land_points)%>%
mutate(Xlabel = 'S')
#create final df
ALT_violin = rbind(land_points, submerged_points)
# script to read in raw data and organize it
library(dplyr)
library(readxl)
library(tidyr)
library(stringr)
library(stringi)
setwd('/Users/emmaboudreau/Documents/GitHub/igea22/')
g3_files = list.files('outputs/munged_3/TPs/ALT/')
input_file = "ALT_3TP11.rds"
#edit_function = function(input_file){
reach_ID = substring(strsplit(input_file, "_")[[1]][2], 1, 5)
master = readRDS(paste0('outputs/munged_3/TPs/master/master_',reach_ID,'.rds'))
alt_df = readRDS(paste0('outputs/munged_3/TPs/ALT/ALT_',reach_ID,'.rds'))%>%
filter(ALT>0)
alt_df = alt_df%>%
mutate(number= substr(UID2,8,8))%>%
mutate(XSection= substr(UID2,9,9))
# edit the data to exclude all submerged water points----
tundra_points = alt_df%>%
filter(LWR!= 'W')%>%
mutate(Xlabel = number)
bank_points = alt_df%>%
filter(LWR =='W')%>%
filter(XSection != '2')%>%
filter(XSection != '5')%>%
filter(number != '2')%>%
mutate(Xlabel = as.double('0'))
land_points = rbind(tundra_points, bank_points)
# ----
# edit the data to only have submerged water points----
submerged_points = anti_join(alt_df, land_points)%>%
mutate(Xlabel = 'S')
#create final df
ALT_violin = rbind(land_points, submerged_points)
View(submerged_points)
# script to read in raw data and organize it
library(dplyr)
library(readxl)
library(tidyr)
library(stringr)
library(stringi)
setwd('/Users/emmaboudreau/Documents/GitHub/igea22/')
g3_files = list.files('outputs/munged_3/TPs/ALT/')
input_file = "ALT_3TP11.rds"
#edit_function = function(input_file){
reach_ID = substring(strsplit(input_file, "_")[[1]][2], 1, 5)
master = readRDS(paste0('outputs/munged_3/TPs/master/master_',reach_ID,'.rds'))
alt_df = readRDS(paste0('outputs/munged_3/TPs/ALT/ALT_',reach_ID,'.rds'))%>%
filter(ALT>0)
alt_df = alt_df%>%
mutate(number= substr(UID2,8,8))%>%
mutate(XSection= substr(UID2,9,9))
# edit the data to exclude all submerged water points----
tundra_points = alt_df%>%
filter(LWR!= 'W')%>%
mutate(Xlabel = number)
bank_points = alt_df%>%
filter(LWR =='W')%>%
filter(XSection != '2')%>%
filter(XSection != '5')%>%
filter(number != '2')%>%
mutate(Xlabel = as.double('0'))
land_points = rbind(tundra_points, bank_points)
# ----
# edit the data to only have submerged water points----
submerged_points = anti_join(alt_df, land_points)%>%
mutate(Xlabel = 'S')
#create final df
ALT_violin = rbind(land_points, submerged_points)
View(submerged_points)
# script to read in raw data and organize it
library(dplyr)
library(readxl)
library(tidyr)
library(stringr)
library(stringi)
setwd('/Users/emmaboudreau/Documents/GitHub/igea22/')
g3_files = list.files('outputs/munged_3/TPs/ALT/')
input_file = "ALT_3TP11.rds"
#edit_function = function(input_file){
reach_ID = substring(strsplit(input_file, "_")[[1]][2], 1, 5)
master = readRDS(paste0('outputs/munged_3/TPs/master/master_',reach_ID,'.rds'))
alt_df = readRDS(paste0('outputs/munged_3/TPs/ALT/ALT_',reach_ID,'.rds'))%>%
filter(ALT>0)
alt_df = alt_df%>%
mutate(number= substr(UID2,8,8))%>%
mutate(XSection= substr(UID2,9,9))
# edit the data to exclude all submerged water points----
tundra_points = alt_df%>%
filter(LWR!= 'W')%>%
mutate(Xlabel = number)
bank_points = alt_df%>%
filter(LWR =='W')%>%
filter(XSection != '2')%>%
filter(XSection != '5')%>%
filter(number != '2')%>%
mutate(Xlabel = as.double('0'))
land_points = rbind(tundra_points, bank_points)
# ----
# edit the data to only have submerged water points----
submerged_points = anti_join(alt_df, land_points)%>%
mutate(Xlabel = 'S')
#create final df
ALT_violin = rbind(land_points, submerged_points)
# script to read in raw data and organize it
library(dplyr)
library(readxl)
library(tidyr)
library(stringr)
library(stringi)
setwd('/Users/emmaboudreau/Documents/GitHub/igea22/')
g3_files = list.files('outputs/munged_3/TPs/ALT/')
input_file = "ALT_3TP11.rds"
#edit_function = function(input_file){
reach_ID = substring(strsplit(input_file, "_")[[1]][2], 1, 5)
master = readRDS(paste0('outputs/munged_3/TPs/master/master_',reach_ID,'.rds'))
alt_df = readRDS(paste0('outputs/munged_3/TPs/ALT/ALT_',reach_ID,'.rds'))%>%
filter(ALT>0)
alt_df = alt_df%>%
mutate(number= substr(UID2,8,8))%>%
mutate(XSection= substr(UID2,9,9))
# edit the data to exclude all submerged water points----
tundra_points = alt_df%>%
filter(LWR!= 'W')%>%
mutate(Xlabel = number)
bank_points = alt_df%>%
filter(LWR =='W')%>%
filter(XSection != '2')%>%
filter(XSection != '5')%>%
filter(number != '2')%>%
mutate(Xlabel = as.double('0'))
land_points = rbind(tundra_points, bank_points)
# ----
# edit the data to only have submerged water points----
submerged_points = anti_join(alt_df, land_points)%>%
mutate(Xlabel = 'S')
#create final df
ALT_violin = rbind(land_points, submerged_points)
source("~/Documents/GitHub/igea22/ts_scripts/load_3.R", echo=TRUE)
# script to read in raw data and organize it
library(dplyr)
library(readxl)
library(tidyr)
library(stringr)
library(stringi)
setwd('/Users/emmaboudreau/Documents/GitHub/igea22/')
g3_files = list.files('outputs/munged_3/TPs/ALT/')
#input_file = "ALT_3TP11.rds"
edit_function = function(input_file){
reach_ID = substring(strsplit(input_file, "_")[[1]][2], 1, 5)
master = readRDS(paste0('outputs/munged_3/TPs/master/master_',reach_ID,'.rds'))
alt_df = readRDS(paste0('outputs/munged_3/TPs/ALT/ALT_',reach_ID,'.rds'))%>%
filter(ALT>0)
alt_df = alt_df%>%
mutate(number= substr(UID2,8,8))%>%
mutate(XSection= substr(UID2,9,9))
# edit the data to exclude all submerged water points----
tundra_points = alt_df%>%
filter(LWR!= 'W')%>%
mutate(Xlabel = number)
bank_points = alt_df%>%
filter(LWR =='W')%>%
filter(XSection != '2')%>%
filter(XSection != '5')%>%
filter(number != '2')%>%
mutate(Xlabel = as.double('0'))
land_points = rbind(tundra_points, bank_points)
# ----
# edit the data to only have submerged water points----
submerged_points = anti_join(alt_df, land_points)%>%
mutate(Xlabel = 'S')
#create final df
ALT_violin = rbind(land_points, submerged_points)
saveRDS(ALT_violin, paste0('outputs/munged_3/TP_violin/ALT_violin_',reach_ID,'.rds'))
# ----
}
lapply(g3_files,edit_function)
# script to read in raw data and organize it
library(dplyr)
library(readxl)
library(tidyr)
library(stringr)
library(stringi)
setwd('/Users/emmaboudreau/Documents/GitHub/igea22/')
g3_files = list.files('outputs/munged_3/EPs/ALT/')
#input_file = "ALT_3EP01.rds"
edit_function = function(input_file) {
reach_ID = substring(strsplit(input_file, "_")[[1]][2], 1, 5)
master = readRDS(paste0('outputs/munged_3/EPs/master/master_',reach_ID,'.rds'))
alt_df = readRDS(paste0('outputs/munged_3/EPs/ALT/ALT_',reach_ID,'.rds'))
# edit the data to exclude all submerged water points----
alt_df = alt_df%>%
mutate(number= substr(UID2,8,8))%>%
mutate(XSection= substr(UID2,9,9))%>%
mutate(Xlabel = number)
tundra_points = alt_df%>%
filter(LWR != 'W')%>%
mutate(Xlabel = number)
temp = alt_df%>%
filter(LWR == 'W')%>%
filter(XSection != '3')%>%
filter(XSection != '8')%>%
filter(number != '2')%>%
filter(number != '4')
temp2 = alt_df%>%
filter(LWR == 'W')%>%
filter(XSection == '3' | XSection == '8')%>%
filter(number != '2')%>%
filter(number != '3')%>%
filter(number != '4')
bank_points = rbind(temp, temp2)%>%
mutate(Xlabel = as.double('0'))
land_points = rbind(tundra_points, bank_points)
submerged_points = anti_join(alt_df, land_points)%>%
mutate(Xlabel = 'S')
# ----
ALT_violin = rbind(submerged_points, land_points)%>%
filter(!is.na(ALT))
saveRDS(ALT_violin, paste0('outputs/munged_3/EP_violin/ALT_violin_',reach_ID,'.rds'))
}
lapply(g3_files,edit_function)
# script to read in raw data and organize it
library(dplyr)
library(readxl)
library(tidyr)
library(stringr)
library(stringi)
setwd('/Users/emmaboudreau/Documents/GitHub/igea22/')
g3_files = list.files('outputs/munged_3/TPs/ALT/')
#input_file = "ALT_3TP11.rds"
edit_function = function(input_file){
reach_ID = substring(strsplit(input_file, "_")[[1]][2], 1, 5)
master = readRDS(paste0('outputs/munged_3/TPs/master/master_',reach_ID,'.rds'))
alt_df = readRDS(paste0('outputs/munged_3/TPs/ALT/ALT_',reach_ID,'.rds'))%>%
filter(ALT>0)
alt_df = alt_df%>%
mutate(number= substr(UID2,8,8))%>%
mutate(XSection= substr(UID2,9,9))
# edit the data to exclude all submerged water points----
tundra_points = alt_df%>%
filter(LWR!= 'W')%>%
mutate(Xlabel = number)
bank_points = alt_df%>%
filter(LWR =='W')%>%
filter(XSection != '2')%>%
filter(XSection != '5')%>%
filter(number != '2')%>%
mutate(Xlabel = as.double('0'))
land_points = rbind(tundra_points, bank_points)
# ----
# edit the data to only have submerged water points----
submerged_points = anti_join(alt_df, land_points)%>%
mutate(Xlabel = 'S')
#create final df
ALT_violin = rbind(land_points, submerged_points)
saveRDS(ALT_violin, paste0('outputs/munged_3/TP_violin/ALT_violin_',reach_ID,'.rds'))
# ----
}
lapply(g3_files,edit_function)
