limits = c(0, 100),
expand = c(0,0)) +
scale_color_manual(values = c("steelblue")) +
guides(x = guide_axis(angle = 90)) +
labs(y = "Discharge [cms]",
x = "Date")
p1
p1 <- ggplot(joined_data) +
geom_line(aes(dateTime, flow_Inst_2, color = "Discharge")) +
scale_y_continuous(position = "left",
limits = c(0, 35),
expand = c(0,0)) +
scale_color_manual(values = c("steelblue")) +
guides(x = guide_axis(angle = 90)) +
labs(y = "Discharge [cms]",
x = "Date")
p1
p1 <- ggplot(joined_data) +
geom_line(aes(dateTime, flow_Inst_2, color = "Discharge")) +
scale_y_continuous(position = "left",
limits = c(0, 35),
expand = c(0,0)) +
scale_color_manual(values = c("steelblue")) +
guides(x = guide_axis(angle = 90)) +
ggtitle("COLORADO RIVER BELOW BAKER GULCH NR GRAND LAKE, CO")
labs(y = "Discharge [cms]",
x = "Date") +
theme(plot.title) = element_text()
p1 <- ggplot(joined_data) +
geom_line(aes(dateTime, flow_Inst_2, color = "Discharge")) +
scale_y_continuous(position = "left",
limits = c(0, 35),
expand = c(0,0)) +
scale_color_manual(values = c("steelblue")) +
guides(x = guide_axis(angle = 90)) +
ggtitle("COLORADO RIVER BELOW BAKER GULCH NR GRAND LAKE, CO")
labs(y = "Discharge [cms]",
x = "Date") +
p1 <- ggplot(joined_data) +
geom_line(aes(dateTime, flow_Inst_2, color = "Discharge")) +
scale_y_continuous(position = "left",
limits = c(0, 35),
expand = c(0,0)) +
scale_color_manual(values = c("steelblue")) +
guides(x = guide_axis(angle = 90)) +
ggtitle("COLORADO RIVER BELOW BAKER GULCH NR GRAND LAKE, CO")
p1 <- ggplot(joined_data) +
geom_line(aes(dateTime, flow_Inst_2, color = "Discharge")) +
scale_y_continuous(position = "left",
limits = c(0, 35),
expand = c(0,0)) +
scale_color_manual(values = c("steelblue")) +
guides(x = guide_axis(angle = 90)) +
ggtitle("COLORADO RIVER BELOW BAKER GULCH NR GRAND LAKE, CO") +
labs(y = "Discharge [cms]",
x = "Date")
p1
source("~/.active-rstudio-document", echo=TRUE)
p1
discharge <- readNWISuv(siteNumbers = site,
parameterCd = "00060",
startDate = "2013-12-01",
endDate = "2015-01-01")
discharge <- renameNWISColumns(discharge)%>%
mutate(flow_Inst_2 = Flow_Inst*.0283168)
p1
source("~/.active-rstudio-document", echo=TRUE)
p1
discharge <- readNWISuv(siteNumbers = site,
parameterCd = "00060",
startDate = "2011-11-01",
endDate = "2015-01-01")
discharge <- renameNWISColumns(discharge)%>%
mutate(flow_Inst_2 = Flow_Inst*.0283168)
precip <- readNWISuv(siteNumbers = site,
parameterCd = "00045",
startDate = "2022-05-17",
endDate = "2022-10-01")
precip <-renameNWISColumns(precip)
#names(precip)[4] <- 'precip'
p1
source("~/.active-rstudio-document", echo=TRUE)
View(discharge)
p1
source("~/.active-rstudio-document", echo=TRUE)
p1
discharge <- readNWISuv(siteNumbers = site,
parameterCd = "00060",
startDate = "2013-10-01",
endDate = "2015-01-01")
discharge <- renameNWISColumns(discharge)%>%
mutate(flow_Inst_2 = Flow_Inst*.0283168)
precip <- readNWISuv(siteNumbers = site,
parameterCd = "00045",
startDate = "2022-05-17",
endDate = "2022-10-01")
precip <-renameNWISColumns(precip)
#names(precip)[4] <- 'precip'
p1
## download some example data
site <- "09010500"
discharge <- readNWISuv(siteNumbers = site,
parameterCd = "00060",
startDate = "2013-06-01",
endDate = "2015-01-01")
discharge <- renameNWISColumns(discharge)%>%
mutate(flow_Inst_2 = Flow_Inst*.0283168)
p`1`
p1
site <- "09010500"
discharge <- readNWISuv(siteNumbers = site,
parameterCd = "00060",
startDate = "2013-03-01",
endDate = "2015-01-01")
discharge <- renameNWISColumns(discharge)%>%
mutate(flow_Inst_2 = Flow_Inst*.0283168)
precip <- readNWISuv(siteNumbers = site,
parameterCd = "00045",
startDate = "2022-05-17",
endDate = "2022-10-01")
precip <-renameNWISColumns(precip)
p1
## download some example data
site <- "09010500"
discharge <- readNWISuv(siteNumbers = site,
parameterCd = "00060",
startDate = "2013-01-07",
endDate = "2015-01-01")
discharge <- renameNWISColumns(discharge)%>%
mutate(flow_Inst_2 = Flow_Inst*.0283168)
p1
View(discharge)
source("~/.active-rstudio-document", echo=TRUE)
p1
source("~/.active-rstudio-document", echo=TRUE)
p1
source("~/.active-rstudio-document", echo=TRUE)
p1
source("~/.active-rstudio-document", echo=TRUE)
p1
p1 <- ggplot(joined_data) +
geom_line(aes(dateTime, flow_Inst_2, color = "Discharge")) +
scale_y_continuous(position = "left",
limits = c(0, 35),
expand = c(0,0)) +
scale_color_manual(values = c("steelblue")) +
guides(x = guide_axis(angle = 90)) +
ggtitle("COLORADO RIVER BELOW BAKER GULCH NR GRAND LAKE, CO") +
labs(y = "Discharge [cms]",
x = "Date (10-2013 to 10-2014")
p1
p1 <- ggplot(joined_data) +
geom_line(aes(dateTime, flow_Inst_2, color = "Discharge")) +
scale_y_continuous(position = "left",
limits = c(0, 35),
expand = c(0,0)) +
scale_color_manual(values = c("steelblue")) +
guides(x = guide_axis(angle = 90)) +
ggtitle("COLORADO RIVER BELOW BAKER GULCH NR GRAND LAKE, CO") +
labs(y = "Discharge [cms]",
x = "Date (10-2013 to 10-2014)")
p1
X = c(.1,.2,.1,.4,.5,.1,.1,.1,.2,.1) #weighing coefficient
d = c(1,4,4,7,6,7,7,14,15,20) #m
K = 1000/sqrt(9.81*d) #
I = c(100,120,140,150,150,160,130,120,110,100) #m3/s
delt = 1 #day
Q = 100
t = c(1,2,3,4,5,6,7,8,9,10)
i = seq(100:1000, by=100)
X = c(.1,.2,.1,.4,.5,.1,.1,.1,.2,.1) #weighing coefficient
d = c(1,4,4,7,6,7,7,14,15,20) #m
K = 1000/sqrt(9.81*d) #
# I = c(100,120,140,150,150,160,130,120,110,100) #m3/s
delt = 1 #day
Q = 100
t = c(1,2,3,4,5,6,7,8,9,10)
# i = seq(100,1000, by=100)
for (i in 1:9) {
for (j in 1:9) {
C1 = (delt-2*K*X)/(2*K*(1-X)+delt)
C2 = (delt+2*K*X)/(2*K*(1-X)+delt)
C3 = (2*K*(1-X)-delt)/(2*k*(1-X)+delt)
Q[i+1,j+1]=C1[i]*Q[i,j+1]+C2[i]*Q[i,j]+C3[i]Q[i+1,j]
X = c(.1,.2,.1,.4,.5,.1,.1,.1,.2,.1) #weighing coefficient
d = c(1,4,4,7,6,7,7,14,15,20) #m
K = 1000/sqrt(9.81*d) #
# I = c(100,120,140,150,150,160,130,120,110,100) #m3/s
delt = 1 #day
Q = 100
t = c(1,2,3,4,5,6,7,8,9,10)
# i = seq(100,1000, by=100)
for (i in 1:9) {
for (j in 1:9) {
C1 = (delt-2*K*X)/(2*K*(1-X)+delt)
C2 = (delt+2*K*X)/(2*K*(1-X)+delt)
C3 = (2*K*(1-X)-delt)/(2*k*(1-X)+delt)
Q[i+1,j+1]=C1[i]*Q[i,j+1]+C2[i]*Q[i,j]+C3[i]*Q[i+1,j]
}
}
X = c(.1,.2,.1,.4,.5,.1,.1,.1,.2,.1) #weighing coefficient
d = c(1,4,4,7,6,7,7,14,15,20) #m
K = 1000/sqrt(9.81*d) #
I = c(100,120,140,150,150,160,130,120,110,100) #m3/s
delt = 1 #day
Q = 100
t = c(1,2,3,4,5,6,7,8,9,10)
# i = seq(100,1000, by=100)
C1 = (delt-2*K*X)/(2*K*(1-X)+delt)
C2 = (delt+2*K*X)/(2*K*(1-X)+delt)
C3 = (2*K*(1-X)-delt)/(2*k*(1-X)+delt)
X = c(.1,.2,.1,.4,.5,.1,.1,.1,.2,.1) #weighing coefficient
d = c(1,4,4,7,6,7,7,14,15,20) #m
K = 1000/sqrt(9.81*d) #
I = c(100,120,140,150,150,160,130,120,110,100) #m3/s
delt = 1 #day
Q = 100
t = c(1,2,3,4,5,6,7,8,9,10)
# i = seq(100,1000, by=100)
C1 = (delt-2*K*X)/(2*K*(1-X)+delt)
C2 = (delt+2*K*X)/(2*K*(1-X)+delt)
C3 = (2*K*(1-X)-delt)/(2*K*(1-X)+delt)
Q = matrix(100, nrow=10, ncol=10)
Q[,1]= I
for (i in 1:9) {
for (j in 1:9) {
Q[i+1,j+1]=C1[i]*Q[i,j+1]+C2[i]*Q[i,j]+C3[i]*Q[i+1,j]
}
}
Q
X = c(.1,.2,.1,.4,.5,.1,.1,.1,.2,.1) #weighing coefficient
d = c(1,4,4,7,6,7,7,14,15,20) #m
K = 100/sqrt(9.81*d) #
I = c(100,120,140,150,150,160,130,120,110,100) #m3/s
delt = 1 #day
Q = 100
t = c(1,2,3,4,5,6,7,8,9,10)
# i = seq(100,1000, by=100)
C1 = (delt-2*K*X)/(2*K*(1-X)+delt)
C2 = (delt+2*K*X)/(2*K*(1-X)+delt)
C3 = (2*K*(1-X)-delt)/(2*K*(1-X)+delt)
Q = matrix(100, nrow=10, ncol=10)
Q[,1]= I
for (i in 1:9) {
for (j in 1:9) {
Q[i+1,j+1]=C1[i]*Q[i,j+1]+C2[i]*Q[i,j]+C3[i]*Q[i+1,j]
}
}
Q
source("~/Documents/senior_year/hydrology/HW6_3.R", echo=TRUE)
Q
plot(Q)[,1]
plot(1:10,Q[,1])
plot(1:10,Q[,1])
lines(1:10,Q[,2])
plot(1:10,Q[,1],type="l")
lines(1:10,Q[,2])
plot(1:10,Q[,1],type="l", col="red")
lines(1:10,Q[,2])
plot(1:10,Q[,3],type="l", col="red")
lines(1:10,Q[,4])
plot(1:10,Q[,1],type="l", col="red")
lines(1:10,Q[,2])
plot(1:10,Q[,5],type="l", col="red")
lines(1:10,Q[,6])
plot(1:10,Q[,9],type="l", col="red")
lines(1:10,Q[,10])
plot(1:10,Q[,7],type="l", col="red")
lines(1:10,Q[,8])
plot(1:10,Q[,9],type="l", col="red")
lines(1:10,Q[,10])
plot(1:10,Q[,7],type="l", col="red")
lines(1:10,Q[,8])
plot(1:10,Q[,9],type="l", col="red")
lines(1:10,Q[,10])
plot(1:10,Q[,7],type="l", col="red")
lines(1:10,Q[,8])
source("~/Documents/senior_year/hydrology/HW6.R", echo=TRUE)
p1
source("~/Documents/senior_year/hydrology/HW6_3.R", echo=TRUE)
Q
C1
C2
C3
source("~/Documents/senior_year/hydrology/HW6_3.R", echo=TRUE)
Q
source("~/Documents/senior_year/hydrology/HW6.R", echo=TRUE)
p1
source("~/Documents/senior_year/hydrology/HW6.R", echo=TRUE)
p1
source("~/Documents/senior_year/hydrology/HW6.R", echo=TRUE)
p1
source("~/Documents/senior_year/hydrology/HW6.R", echo=TRUE)
p1
source("~/Documents/senior_year/hydrology/HW6.R", echo=TRUE)
p1
source("~/Documents/senior_year/hydrology/HW6.R", echo=TRUE)
p1
source("~/Documents/senior_year/hydrology/HW6.R", echo=TRUE)
p1
source("~/Documents/senior_year/hydrology/HW6.R", echo=TRUE)
p1
source("~/Documents/senior_year/hydrology/HW6.R", echo=TRUE)
edit_function = function(input_file) {
reach_ID = substring(strsplit(input_file, "_")[[1]][2], 1, 5)
master = readRDS(paste0('outputs/munged_3/master_',reach_ID,'.rds'))
alt_df = readRDS(paste0('outputs/munged_3/ALT_',reach_ID,'.rds'))
# edit the data to exclude all submerged water points----
tundra_points = alt_df%>%
filter(LRW != 'W')%>%
mutate(Xlabel = Number)
temp = alt_df%>%
filter(LRW == 'W')%>%
mutate(Number= substr(UID2,8,8))%>%
mutate(XSection= substr(UID2,9,9))%>%
filter(XSection != '3')%>%
filter(XSection != '8')%>%
filter(Number != '2')%>%
filter(Number != '4')
temp2 = alt_df%>%
mutate(Number= substr(UID2,8,8))%>%
mutate(XSection= substr(UID2,9,9))%>%
filter(LRW == 'W')%>%
filter(XSection == '3' | XSection == '8')%>%
filter(Number != '2')%>%
filter(Number != '3')%>%
filter(Number != '4')
bank_points = rbind(temp, temp2)%>%
mutate(Xlabel = as.double('0'))
land_points = rbind(tundra_points, bank_points)
submerged_points = anti_join(alt_df, land_points)%>%
mutate(Xlabel = 'S')
# ----
ALT_violin = rbind(land_points, submerged_points)
saveRDS(ultimate, paste0('outputs/munged_3/ALT_violin_',reach_ID,'.rds'))
}
# script to read in raw data and organize it
library(dplyr)
library(readxl)
library(tidyr)
library(stringr)
library(stringi)
setwd('/Users/emmaboudreau/Documents/GitHub/igea22/')
g3_files = list.files('outputs/munged_3/')
#input_file = "ALT_3EP01.rds"
edit_function = function(input_file) {
reach_ID = substring(strsplit(input_file, "_")[[1]][2], 1, 5)
master = readRDS(paste0('outputs/munged_3/master_',reach_ID,'.rds'))
alt_df = readRDS(paste0('outputs/munged_3/ALT_',reach_ID,'.rds'))
# edit the data to exclude all submerged water points----
tundra_points = alt_df%>%
filter(LRW != 'W')%>%
mutate(Xlabel = Number)
temp = alt_df%>%
filter(LRW == 'W')%>%
mutate(Number= substr(UID2,8,8))%>%
mutate(XSection= substr(UID2,9,9))%>%
filter(XSection != '3')%>%
filter(XSection != '8')%>%
filter(Number != '2')%>%
filter(Number != '4')
temp2 = alt_df%>%
mutate(Number= substr(UID2,8,8))%>%
mutate(XSection= substr(UID2,9,9))%>%
filter(LRW == 'W')%>%
filter(XSection == '3' | XSection == '8')%>%
filter(Number != '2')%>%
filter(Number != '3')%>%
filter(Number != '4')
bank_points = rbind(temp, temp2)%>%
mutate(Xlabel = as.double('0'))
land_points = rbind(tundra_points, bank_points)
submerged_points = anti_join(alt_df, land_points)%>%
mutate(Xlabel = 'S')
# ----
ALT_violin = rbind(land_points, submerged_points)
saveRDS(ultimate, paste0('outputs/munged_3/ALT_violin_',reach_ID,'.rds'))
}
lapply(g3_files,edit_function)
edit_function = function(input_file) {
reach_ID = substring(strsplit(input_file, "_")[[1]][2], 1, 5)
master = readRDS(paste0('outputs/munged_3/master_',reach_ID,'.rds'))
alt_df = readRDS(paste0('outputs/munged_3/ALT_',reach_ID,'.rds'))
# edit the data to exclude all submerged water points----
tundra_points = alt_df%>%
filter(LRW != 'W')%>%
mutate(Xlabel = Number)
temp = alt_df%>%
filter(LRW == 'W')%>%
mutate(Number= substr(UID2,8,8))%>%
mutate(XSection= substr(UID2,9,9))%>%
filter(XSection != '3')%>%
filter(XSection != '8')%>%
filter(Number != '2')%>%
filter(Number != '4')
temp2 = alt_df%>%
mutate(Number= substr(UID2,8,8))%>%
mutate(XSection= substr(UID2,9,9))%>%
filter(LRW == 'W')%>%
filter(XSection == '3' | XSection == '8')%>%
filter(Number != '2')%>%
filter(Number != '3')%>%
filter(Number != '4')
bank_points = rbind(temp, temp2)%>%
mutate(Xlabel = as.double('0'))
land_points = rbind(tundra_points, bank_points)
submerged_points = anti_join(alt_df, land_points)%>%
mutate(Xlabel = 'S')
# ----
ALT_violin = rbind(land_points, submerged_points)
saveRDS(ultimate, paste0('outputs/munged_3/ALT_violin_',reach_ID,'.rds'))
}
lapply(g3_files,edit_function)
alt_df = readRDS(paste0('outputs/munged_3/EPs/ALT_',reach_ID,'.rds'))
# script to read in raw data and organize it
library(dplyr)
library(readxl)
library(tidyr)
library(stringr)
library(stringi)
setwd('/Users/emmaboudreau/Documents/GitHub/igea22/')
#g3_files = list.files('outputs/munged_3/')
input_file = "ALT_3EP01.rds"
#edit_function = function(input_file) {
reach_ID = substring(strsplit(input_file, "_")[[1]][2], 1, 5)
master = readRDS(paste0('outputs/munged_3/EPs/master_',reach_ID,'.rds'))
alt_df = readRDS(paste0('outputs/munged_3/EPs/ALT_',reach_ID,'.rds'))
# edit the data to exclude all submerged water points----
tundra_points = alt_df%>%
filter(LRW != 'W')%>%
mutate(Xlabel = Number)
View(master)
tundra_points = alt_df%>%
filter(LWR != 'W')%>%
mutate(Xlabel = Number)
tundra_points = alt_df%>%
filter(LWR != 'W')%>%
mutate(Xlabel = number)
View(alt_df)
tundra_points = alt_df%>%
mutate(number= substr(UID2,8,8))%>%
mutate(XSection= substr(UID2,9,9))%>%
filter(LWR != 'W')%>%
mutate(Xlabel = number)
temp = alt_df%>%
filter(LRW == 'W')%>%
mutate(number= substr(UID2,8,8))%>%
mutate(XSection= substr(UID2,9,9))%>%
filter(XSection != '3')%>%
filter(XSection != '8')%>%
filter(Number != '2')%>%
filter(Number != '4')
temp = alt_df%>%
filter(LWR == 'W')%>%
mutate(number= substr(UID2,8,8))%>%
mutate(XSection= substr(UID2,9,9))%>%
filter(XSection != '3')%>%
filter(XSection != '8')%>%
filter(number != '2')%>%
filter(number != '4')
temp2 = alt_df%>%
mutate(number= substr(UID2,8,8))%>%
mutate(XSection= substr(UID2,9,9))%>%
filter(LWR == 'W')%>%
filter(XSection == '3' | XSection == '8')%>%
filter(number != '2')%>%
filter(number != '3')%>%
filter(number != '4')
bank_points = rbind(temp, temp2)%>%
mutate(Xlabel = as.double('0'))
land_points = rbind(tundra_points, bank_points)
submerged_points = anti_join(alt_df, land_points)%>%
mutate(Xlabel = 'S')
edit_function = function(input_file) {
reach_ID = substring(strsplit(input_file, "_")[[1]][2], 1, 5)
master = readRDS(paste0('outputs/munged_3/EPs/master_',reach_ID,'.rds'))
alt_df = readRDS(paste0('outputs/munged_3/EPs/ALT_',reach_ID,'.rds'))
# edit the data to exclude all submerged water points----
tundra_points = alt_df%>%
mutate(number= substr(UID2,8,8))%>%
mutate(XSection= substr(UID2,9,9))%>%
filter(LWR != 'W')%>%
mutate(Xlabel = number)
temp = alt_df%>%
filter(LWR == 'W')%>%
mutate(number= substr(UID2,8,8))%>%
mutate(XSection= substr(UID2,9,9))%>%
filter(XSection != '3')%>%
filter(XSection != '8')%>%
filter(number != '2')%>%
filter(number != '4')
temp2 = alt_df%>%
mutate(number= substr(UID2,8,8))%>%
mutate(XSection= substr(UID2,9,9))%>%
filter(LWR == 'W')%>%
filter(XSection == '3' | XSection == '8')%>%
filter(number != '2')%>%
filter(number != '3')%>%
filter(number != '4')
bank_points = rbind(temp, temp2)%>%
mutate(Xlabel = as.double('0'))
land_points = rbind(tundra_points, bank_points)
submerged_points = anti_join(alt_df, land_points)%>%
mutate(Xlabel = 'S')
# ----
ALT_violin = rbind(land_points, submerged_points)
saveRDS(ultimate, paste0('outputs/munged_3/ALT_violin_',reach_ID,'.rds'))
}
lapply(g3_files,edit_function)
g3_files = list.files('outputs/munged_3/EPs/')
# ----
ALT_violin = rbind(land_points, submerged_points)
